<!DOCTYPE html>
<html lang="en-us">
  <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta content="" name="keywords">
  <meta content="The Decisions Behind WikiLoopr" property="og:title">
  <title>The Decisions Behind WikiLoopr</title>
  <link rel="stylesheet" href="https://blog.seangransee.com/css/style.css">
  <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/prism/1.15.0/themes/prism.min.css">
</head>

  <body>
    <section class="section header">
  <div class="container">
    <nav class="nav">
      <div class="nav-left">
        <a class="nav-item" href="https://blog.seangransee.com"><h1 class="title is-4">Sean Gransee</h1></a>
      </div>
      <div class="nav-right">
        <nav class="nav-item level is-mobile">
          
          <a class="level-item" href="https://github.com/seangransee">
            <span class="icon">
              <i class="fa fa-github"></i>
            </span>
          </a>
          
          <a class="level-item" href="https://twitter.com/seangransee">
            <span class="icon">
              <i class="fa fa-twitter"></i>
            </span>
          </a>
          
          <a class="level-item" href="https://www.instagram.com/seangransee/">
            <span class="icon">
              <i class="fa fa-instagram"></i>
            </span>
          </a>
          
          <a class="level-item" href="mailto:sean.gransee@gmail.com">
            <span class="icon">
              <i class="fa fa-envelope"></i>
            </span>
          </a>
          
        </nav>
      </div>
    </nav>
  </div>
</section>

    <section class="section">
      <div class="container">
        <h1 class="title">The Decisions Behind WikiLoopr</h1>
        <h2 class="subtitle is-6">September 11, 2012</h2>
        
        <div class="content">
          <p>A couple weeks ago, I created a website called <a href="http://wikiloopr.com" target="_blank">WikiLoopr</a>. Hours after it went live, the site exploded on <a href="https://news.ycombinator.com/item?id=4459826" target="_blank">Hacker News</a>, made its way around Reddit and Twitter, and got featured in an <a href="http://www.nbcnews.com/technology/gadgetbox/loopy-wikipedia-app-brings-you-full-circle-974520" target="_blank">NBC News tech blog</a>. Those first 24 hours brought in over 40,000 hits to the site.</p>
<p>The site went live on the same day that I came up with the idea. Plus, I&#8217;ve never paid a dime for hosting. This was my least expensive project ever, both in terms of time and money invested. It is also by far my most successful. Here&#8217;s how I turned an idea into a viral success in a single night.</p>
<p><em>If you want concrete code examples for anything I talk about, check out the <a href="https://github.com/seangransee/WikiLoopr" target="_blank">source code</a>.</em></p>
<p><strong>I satisfied my own curiosity.</strong></p>
<p>The idea stemmed from <a href="http://www.syndiosocial.com/the-philosophy-of-networks/" target="_blank">this blog post</a> by Andy Jordan, a brilliant student at the University of Chicago and fellow intern at Syndio Social. After reading his post, I spent way too much time that day looking up random Wikipedia articles and clicking links until I entered a loop. I was hooked. Curiosity got the best of me, and I decided I wanted to build something that could automatically show you the entire path to the loop without all the manual clicking. A couple hours later, I came home from work and got started.</p>
<p><strong>I kept the design simple.</strong></p>
<p>Look at the design. There&#8217;s nothing there that&#8217;s not necessary. I didn&#8217;t set out to create a beautifully designed website. All I wanted was to see the loop that stems from a Wikipedia article. The site has two distinct colors, plus a few shades of gray. As far as images go, there are two logos and a loading spinner. Nothing more is needed.</p>
<p><strong>I didn&#8217;t use a database.</strong></p>
<p>Yes, it would have been cool if I had kept track of things like what people are searching for, average length to the loop, and more. But this wasn&#8217;t part of my original plan. I didn&#8217;t care too much about analyzing the usage&#8230; I just wanted to get it out there! This saved me a bit of development time and aided performance.</p>
<p><strong>All the logic is on the client side</strong></p>
<p>Speaking of performance, this one is huge. I run the site on a free Heroku server, which can only process one thing at a time. Unfortunately, processing one request from the user can take quite a while. The site has to find the first link in the article, follow the link and download the next article, find the first link again, etc. Some requests can spawn up to 50 Wikipedia articles. With hundreds of people on the site at once, that would have killed my precious free Heroku dyno.</p>
<p>So I took a different approach. I wrote <a href="https://github.com/seangransee/WikiLoopr/blob/master/views/wikiloopr.coffee" target="_blank">all the logic</a> in Javascript (well, Coffeescript to be more accurate). When a user visits the site, the browser essentially receives a list of instructions for what to do once the user searches for a page. It&#8217;s the ultimate form of parallel processing. Instead of one little server downloading all those pages and finding all the first links, hundreds of browsers can do that work at the same time.</p>
<p>The downside of this is that the site is much slower on mobile devices. But the huge benefit of running everything on the client side far outweighs this minor disadvantage.</p>
<p><strong>I didn&#8217;t cache anything</strong></p>
<p>This one is a little controversial. Yes, I could have cached the results so that any time a new page is requested, WikiLoopr stores the first link so it doesn&#8217;t have to fetch the page from Wikipedia again. I didn&#8217;t do this simply because I wanted to release this thing as quickly as possible, and it simply wasn&#8217;t necessary. It may have put a bit of strain on Wikipedia servers, but to a site that serves <a href="http://meta.wikimedia.org/wiki/Wikimedia_in_figures_-_Wikipedia" target="_blank">2500 pages per second</a> the increase is barely noticeable.</p>
<p>Looking back, I&#8217;m really glad I never ended up caching anything. Why? Because the loop kept changing. When I made the site, most pages would lead you to a loop between Philosophy and Reality with nothing in between. Over the next few days, Wikipedians edited pages for Philosophy and similar concepts, which changed the loop. About 6 hours after I launched WikiLooper, the loop contained 28 articles. It has since leveled off at 7. Andy Jordan, the author of the blog post that inspired WikiLoopr, wrote a <a href="http://www.syndiosocial.com/quantum-wikipedia-theory/" target="_blank">follow-up piece</a> in which he described the observer effect that was occurring.</p>
<p><strong>I made the site evolve with Wikipedia</strong></p>
<p>As I said, the loop was just two articles. In addition, the path leading up to the loop was usually around 5 or 10. Everything fit nicely on the screen at once. But then as both the loop and the path leading up to it got bigger, they would no longer fit on the same screen. I started getting requests to show how big the loop is. So I added a little display on the right side of the page. Not only does this tell many users exactly what they wanted to know all along, but it makes the site easier to understand.</p>
<p><strong>I didn't waste time hunting down bugs</strong></p>
<p>It would have been nearly impossible to find all the bugs myself. With an input domain of <a href="http://en.wikipedia.org/wiki/Wikipedia:Size_of_Wikipedia" target="_blank">4,049,583</a>, it would have been pretty damn hard to test to make sure every Wikipedia article worked. So I didn&#8217;t even try. I spent about an hour testing it with all the random Wikipedia articles that popped into my head, and that&#8217;s it. Then I released it knowing that many articles would cause problems.</p>
<p>And they did. But people were very quick to point them out. People commented on Hacker News and Reddit. People tweeted bugs to me and submitted issues to GitHub. Within the first few hours, I knew about almost every bug that existed on the site. I fixed them later that day, and haven&#8217;t noticed any issues since the first few days. As far as I&#8217;m concerned, WikiLoopr works for 99.9% of pages and I can leave the code alone and move onto something else.</p>
<p>So there you have it. Feel free to <a href="mailto:sean.gransee@gmail.com" target="_blank">reach out</a> if you have any specific questions.</p>

        </div>
      </div>
    </section>
    
<section class="section">
  <div class="container">
    <aside><div id="disqus_thread"></div></aside>
    <script type="text/javascript">
      var disqus_shortname = 'seangransee';
      (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
  </div>
</section>


    <section class="section">
  <div class="container has-text-centered">
    <p></p>
  </div>
</section>

<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/prism/1.15.0/prism.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.15.0/plugins/normalize-whitespace/prism-normalize-whitespace.min.js"></script>

<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/prism/1.15.0/components/prism-bash.min.js"></script>

<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/prism/1.15.0/components/prism-yaml.min.js"></script>

<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/prism/1.15.0/components/prism-graphql.min.js"></script>

<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/prism/1.15.0/components/prism-json.min.js"></script>




<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-1016807-11', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>




  </body>
</html>
