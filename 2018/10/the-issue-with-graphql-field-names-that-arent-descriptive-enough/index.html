<!DOCTYPE html>
<html lang="en-us">
  <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta content="" name="keywords">
  <meta content="The Issue With GraphQL Field Names That Aren&#39;t Descriptive Enough" property="og:title">
  <title>The Issue With GraphQL Field Names That Aren&#39;t Descriptive Enough</title>
  <link rel="stylesheet" href="https://blog.seangransee.com/css/style.css">
  <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/prism/1.15.0/themes/prism.min.css">
</head>

  <body>
    <section class="section header">
  <div class="container">
    <nav class="nav">
      <div class="nav-left">
        <a class="nav-item" href="https://blog.seangransee.com"><h1 class="title is-4">Sean Gransee</h1></a>
      </div>
      <div class="nav-right">
        <nav class="nav-item level is-mobile">
          
          <a class="level-item" href="https://github.com/seangransee">
            <span class="icon">
              <i class="fa fa-github"></i>
            </span>
          </a>
          
          <a class="level-item" href="https://twitter.com/seangransee">
            <span class="icon">
              <i class="fa fa-twitter"></i>
            </span>
          </a>
          
          <a class="level-item" href="https://www.instagram.com/seangransee/">
            <span class="icon">
              <i class="fa fa-instagram"></i>
            </span>
          </a>
          
          <a class="level-item" href="mailto:sean.gransee@gmail.com">
            <span class="icon">
              <i class="fa fa-envelope"></i>
            </span>
          </a>
          
        </nav>
      </div>
    </nav>
  </div>
</section>

    <section class="section">
      <div class="container">
        <h1 class="title">The Issue With GraphQL Field Names That Aren&#39;t Descriptive Enough</h1>
        <h2 class="subtitle is-6">October 18, 2018</h2>
        
        <div class="content">
          <p><em>This is part of a series about <a href="/2018/10/decisions-my-team-made-with-our-graphql-schema/">decisions my team made with our GraphQL schema</a>. Check out that post for context, or to read about other decisions we made.</em></p>

<p>One of the bad decisions we made when building our schema was defining a scalar field with a name that would likely be used in the future by a full object.</p>

<p>Let&rsquo;s say you&rsquo;re modeling a <code>Building</code> containing multiple <code>Rooms</code>, and you start with a schema like this:</p>

<pre>
<code class="language-graphql">
type Room {
  name: String!
  wallColor: String
}

type Building {
  rooms: [Room!]!
}
</code>
</pre>

<p>Let&rsquo;s say you now need to expose which floor each room is on. It may be tempting to do something like this:</p>

<pre>
<code class="language-graphql">
type Room {
  name: String!
  wallColor: String

  floor: String!  # Example values: "Basement", "1", "2", "Penthouse"
}
</code>
</pre>

<p>This works great as long as the <em>name</em> of the floor is the only information you&rsquo;ll ever have about your floor. But what happens when you need something like an image of the floor plan, or an index so you can sort the floors in the order that they&rsquo;d appear in an elevator? It might get to the point where it makes more sense to have a dedicated <code>Floor</code> object type.</p>

<p>But then how do you access that new <code>Floor</code> object from your <code>Room</code> object? The <code>floor</code> field is already taken, and it&rsquo;s just used to display the <em>name</em> of the floor. That field currently returns a string, and you can&rsquo;t define it to return your new <code>Floor</code> object type without making a <a href="/2018/10/breaking-changes-in-graphql-with-zero-downtime/">breaking change</a>. You&rsquo;ll have to make a new awkwardly-named field, such as <code>floorInfo</code>, and your schema will end up looking like this.</p>

<pre>
<code class="language-graphql">
type Floor {
  name: String!
  index: Int
  floorPlanUrl: String
}

type Room {
  name: String!
  wallColor: String

  floor: String     # Only the floor's name
  floorInfo: Floor  # Relationship to the actual Floor type
}

type Building {
  rooms: [Room!]!
}
</code>
</pre>

<p>This gets the job done, but in hindsight, it would have been better to free up the <code>floor</code> field for when we needed it to return a full object type. We could have been more descriptive with the initial name of this field. <code>floorName</code> would have been a perfectly good name, and would have left the door open for a relationship to a full <code>Floor</code> object type in the future.</p>

<p>Lesson learned: Be descriptive with the field names in your GraphQL schema. If a field&rsquo;s name is too general, you might find yourself wishing that field name was still available when you want to introduce a new object type.</p>

        </div>
      </div>
    </section>
    
<section class="section">
  <div class="container">
    <aside><div id="disqus_thread"></div></aside>
    <script type="text/javascript">
      var disqus_shortname = 'seangransee';
      (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
  </div>
</section>


    <section class="section">
  <div class="container has-text-centered">
    <p></p>
  </div>
</section>

<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/prism/1.15.0/prism.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.15.0/plugins/normalize-whitespace/prism-normalize-whitespace.min.js"></script>

<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/prism/1.15.0/components/prism-bash.min.js"></script>

<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/prism/1.15.0/components/prism-yaml.min.js"></script>

<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/prism/1.15.0/components/prism-graphql.min.js"></script>

<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/prism/1.15.0/components/prism-json.min.js"></script>




<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-1016807-11', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>




  </body>
</html>
